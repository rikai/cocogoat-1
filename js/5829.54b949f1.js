(self["define"]=self["define"]||[]).push([[5829],{76392:function(t){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",a="second",i="minute",s="hour",o="day",c="week",l="month",u="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(r,l),i=n-a<0,s=e.clone().add(r+(i?-1:1),l);return+(-(r+(n-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:c,d:o,D:f,h:s,m:i,s:a,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},C="en",w={};w[C]=v;var $=function(t){return t instanceof M},_=function(t,e,n){var r;if(!t)return C;if("string"==typeof t)w[t]&&(r=t),e&&(w[t]=e,r=t);else{var a=t.name;w[a]=t,r=a}return!n&&r&&(C=r),r||!n&&C},b=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},S=g;S.l=_,S.i=$,S.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function v(t){this.$L=_(t.locale,null,!0),this.parse(t)}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return b(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<b(t)},y.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!S.u(e)||e,u=S.p(t),p=function(t,e){var a=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?a:a.endOf(o)},h=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case l:return r?p(1,v):p(0,v+1);case c:var C=this.$locale().weekStart||0,w=(m<C?m+7:m)-C;return p(r?y-w:y+(6-w),v);case o:case f:return h(g+"Hours",0);case s:return h(g+"Minutes",1);case i:return h(g+"Seconds",2);case a:return h(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=S.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[i]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],h=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var m=this.clone().set(f,1);m.$d[p](h),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[S.p(t)]()},y.add=function(r,u){var f,p=this;r=Number(r);var h=S.p(u),m=function(t){var e=b(p);return S.w(e.date(e.date()+Math.round(t*r)),p)};if(h===l)return this.set(l,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===o)return m(1);if(h===c)return m(7);var v=(f={},f[i]=e,f[s]=n,f[a]=t,f)[h]||1,y=this.$d.getTime()+r*v;return S.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",a=S.z(this),i=this.$H,s=this.$m,o=this.$M,c=n.weekdays,l=n.months,u=function(t,n,a,i){return t&&(t[n]||t(e,r))||a[n].substr(0,i)},d=function(t){return S.s(i%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:S.s(o+1,2,"0"),MMM:u(n.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:a};return r.replace(m,(function(t,e){return e||h[t]||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,p){var h,m=S.p(f),v=b(r),y=(v.utcOffset()-this.utcOffset())*e,g=this-v,C=S.m(this,v);return C=(h={},h[d]=C/12,h[l]=C,h[u]=C/3,h[c]=(g-y)/6048e5,h[o]=(g-y)/864e5,h[s]=g/n,h[i]=g/e,h[a]=g/t,h)[m]||g,p?C:S.a(C)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return w[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=_(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),D=M.prototype;return b.prototype=D,[["$ms",r],["$s",a],["$m",i],["$H",s],["$W",o],["$M",l],["$y",d],["$D",f]].forEach((function(t){D[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,M,b),t.$i=!0),b},b.locale=_,b.isDayjs=$,b.unix=function(t){return b(1e3*t)},b.en=w[C],b.Ls=w,b.p={},b}))},72867:function(t,e,n){"use strict";n.d(e,{HU:function(){return s}});const r={global:"https://77.cocogoat.work",cn:"https://cocogoat-1251105598.file.myqcloud.com/77"};let a=navigator.language.startsWith("zh")?"cn":"global",i=!1;const s=async(t="")=>(i||(i=!0,await o()),r[a]+t),o=async()=>{const t=await s("/v1/utils/api-region");try{const e=await fetch(t);if(e.ok){const t=await e.text();r[t]&&(a=t)}}catch(e){console.error("API Region Probe Faild",e),a="global"===a?"cn":"global"}}},11296:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(19812);const a={viewBox:"0 0 204 204"},i=(0,r._)("g",null,[(0,r._)("path",{d:" M 92.79 59.13 C 94.98 55.32 98.53 52.56 101.92 49.88 C 105.14 52.74 108.92 55.30 111.02 59.15 C 110.63 62.49 107.80 65.92 104.21 65.83 C 101.15 65.86 97.27 66.68 95.10 63.91 C 93.97 62.56 92.73 60.98 92.79 59.13 Z"}),(0,r._)("path",{d:" M 82.38 54.26 C 82.72 54.23 83.41 54.17 83.76 54.14 C 86.77 57.18 89.10 60.84 92.29 63.72 C 93.95 65.58 96.89 67.68 95.57 70.52 C 93.68 75.27 90.04 79.03 87.26 83.27 C 85.94 84.91 84.25 87.99 81.72 86.52 C 79.39 83.07 77.68 79.20 75.02 75.95 C 73.64 73.84 70.87 71.42 72.69 68.75 C 75.49 63.69 78.35 58.47 82.38 54.26 Z"}),(0,r._)("path",{d:" M 119.11 54.95 C 120.87 52.96 122.79 55.72 123.89 57.04 C 126.97 61.41 130.22 65.85 132.00 70.92 C 128.93 76.45 124.76 81.37 121.83 87.03 C 121.20 86.96 119.95 86.83 119.33 86.77 C 116.16 82.55 113.06 78.28 110.00 73.99 C 108.50 71.78 106.78 68.39 109.16 66.15 C 112.65 62.58 116.01 58.89 119.11 54.95 Z"}),(0,r._)("path",{d:" M 51.82 63.56 C 58.70 63.02 64.12 67.97 68.08 72.99 C 72.28 77.62 75.21 83.19 78.32 88.57 C 80.70 92.48 79.50 97.42 81.68 101.44 C 84.44 88.13 95.06 78.87 101.41 67.39 C 103.21 69.06 104.59 71.10 105.93 73.15 C 111.83 81.55 119.56 89.46 121.42 99.94 C 121.88 99.79 122.79 99.50 123.25 99.35 C 123.62 95.93 123.59 92.31 125.30 89.22 C 129.75 80.82 134.83 72.41 142.47 66.52 C 145.21 64.40 148.62 63.50 152.06 63.57 C 150.18 68.18 148.61 72.98 148.91 78.04 C 148.87 91.80 143.22 105.66 132.73 114.74 C 129.22 118.10 124.49 120.51 122.54 125.21 C 127.83 124.55 132.04 121.10 136.38 118.32 C 145.39 112.57 154.03 106.14 161.79 98.78 C 167.77 93.07 171.20 85.51 174.16 77.96 C 176.45 77.74 177.07 80.44 178.09 81.97 C 181.72 88.26 181.50 95.83 180.67 102.81 C 179.03 109.41 175.27 115.68 169.55 119.51 C 161.87 124.32 153.00 127.10 143.98 127.83 C 140.96 128.00 137.94 128.52 135.19 129.85 C 136.01 134.37 136.26 139.44 133.24 143.26 C 129.03 150.23 118.48 151.96 112.25 146.74 C 108.03 143.08 106.71 137.40 103.80 132.82 C 102.28 133.14 100.11 132.48 99.28 134.22 C 96.79 138.38 95.66 143.53 91.73 146.71 C 87.38 150.49 80.82 150.55 75.80 148.14 C 72.69 146.31 70.33 143.26 68.96 139.95 C 67.64 136.66 68.75 133.04 68.04 129.67 C 65.75 128.01 62.69 128.23 60.02 127.83 C 51.21 127.21 42.64 124.39 35.05 119.91 C 28.95 116.19 24.96 109.66 23.29 102.82 C 22.58 95.83 22.21 88.24 25.83 81.92 C 26.84 80.41 27.51 77.79 29.76 77.99 C 31.70 81.87 32.72 86.19 35.15 89.83 C 41.41 100.09 51.57 106.93 61.00 113.98 C 67.60 117.93 73.49 123.71 81.26 125.19 C 79.42 120.47 74.79 118.01 71.24 114.75 C 60.50 105.43 54.82 91.11 55.06 76.99 C 55.35 72.26 53.43 67.89 51.82 63.56 M 72.72 129.22 C 72.52 135.00 78.56 138.93 83.85 138.62 C 87.70 138.20 90.56 135.35 93.11 132.70 C 87.27 128.33 79.61 128.62 72.72 129.22 M 110.90 132.29 C 112.59 134.55 114.51 136.81 117.21 137.86 C 123.13 140.54 131.06 135.91 131.17 129.27 C 124.29 128.39 117.05 128.76 110.90 132.29 Z"})],-1),s=[i];function o(t,e){return(0,r.wg)(),(0,r.iD)("svg",a,s)}var c=n(48998);const l={},u=(0,c.Z)(l,[["render",o]]);var d=u},28099:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return T},name:function(){return S}});n(9917);var r=n(6504),a=n(19812),i=n(55893),s=n(44220);const o={class:"first"},c={class:"loading"},l={class:"big-icon"},u=(0,a._)("div",{class:"mail-desc"},"处理中，请稍候...",-1),d={class:"second"},f={class:"big-icon"},p=(0,a._)("div",{class:"mail-desc"},[(0,a.Uk)(" 一封邮件已经发送到您的邮箱 "),(0,a._)("br"),(0,a.Uk)("请查收并点击邮件中的链接登录 ")],-1),h={class:"loading"},m={class:"big-icon"},v=(0,a._)("div",{class:"mail-desc"},"马上就好...",-1);function y(t,e,n,y,g,C){const w=(0,a.up)("icon-cocogoat"),$=(0,a.up)("fa-icon"),_=r.mi;return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(t.$style.syncInstaller)},[(0,a._)("div",{class:"slide",style:(0,i.j5)(`transform: translateX(${-280*(t.step-1)}px)`)},[(0,a._)("div",o,[(0,a.Wm)(w,{class:"logo"}),(0,a._)("form",{onSubmit:e[1]||(e[1]=(0,s.iM)(((...e)=>t.submitMail&&t.submitMail(...e)),["prevent","stop"]))},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.mail=e),placeholder:"请输入邮箱地址",type:"email",class:"email-input"},null,512),[[s.nr,t.mail]]),(0,a.Wm)(_,{size:"large",type:"primary",color:"#0079cc",class:"submit-button",disabled:!t.isMail,onClick:t.submitMail},{default:(0,a.w5)((()=>[(0,a.Wm)($,{icon:"angle-right"})])),_:1},8,["disabled","onClick"])],32)]),(0,a._)("div",c,[(0,a._)("span",l,[(0,a.Wm)($,{icon:"circle-notch",spin:""})]),u]),(0,a._)("div",d,[(0,a._)("span",f,[(0,a.Wm)($,{icon:"envelope-open-text"})]),p,(0,a.Wm)(_,{size:"small",class:"retry",disabled:t.timer>0,onClick:t.submitMail},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.timer>0?`没收到吗？${t.timer}s后重试`:"重发邮件"),1)])),_:1},8,["disabled","onClick"])]),(0,a._)("div",h,[(0,a._)("span",m,[(0,a.Wm)($,{icon:"circle-notch",spin:""})]),v])],4)],2)}var g=n(11296),C=n(72867),w=n(1607),$=n(14287),_=n(24621),b=n(20521);w.vI.add($.yOZ,$.mSY,$.f8k,$.IJ7,$.Yme);const S="椰羊云同步";var M=(0,a.aZ)({components:{IconCocogoat:g.Z},emits:["submit"],setup(t,{emit:e}){const n=(0,b.iH)(1),r=(0,b.iH)(""),i=(0,a.Fl)((()=>{const t=/^\s*\w+(?:\.{0,1}[\w-]+)*@[a-zA-Z0-9]+(?:[-.][a-zA-Z0-9]+)*\.[a-zA-Z]+\s*$/;return t.test(r.value)})),s=(0,b.iH)(0),o=(0,b.iH)(""),c=(0,b.iH)("");let l="";const u=async()=>{if(!i.value)return;n.value=2;const t=await fetch(await(0,C.HU)("/qingxin/u"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:r.value,token:l})});if(200!==t.status||"application/json"!==t.headers.get("content-type")){n.value=1;let e=await t.text();try{const t=JSON.parse(e);e=t.error||t.msg}catch(o){}return void _.T.alert(e,"出错了！")}const e=await t.json();l=e.token,s.value=180;const a=()=>{s.value--,s.value>0&&setTimeout(a,1e3)};setTimeout(a,1e3),n.value=3,setTimeout(d,3e3)},d=async()=>{try{const a=await fetch(await(0,C.HU)("/qingxin/u/"+l),{method:"GET"});if(404===a.status)setTimeout(d,2e3);else if(200===a.status){const t=await a.json();t.lastModified=Date.now();const n=r.value.replace(/\./g,"_").replace(/@/g,"_").replace(/-/g,"_");e("submit",{key:n,data:t})}else{n.value=1;let e=await a.text();try{const t=JSON.parse(e);e=t.error||t.msg}catch(t){}_.T.alert(e,"出错了！")}}catch(t){setTimeout(d,2e3)}};return{step:n,mail:r,submitMail:u,timer:s,dtserver:o,dtlocal:c,isMail:i}}}),D={syncInstaller:"sync-installer-fd543b"},k=n(48998);const x={};x["$style"]=D;const O=(0,k.Z)(M,[["render",y],["__cssModules",x]]);var T=O},11332:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x},name:function(){return $}});n(9917);var r=n(6504),a=n(19812),i=n(55893);const s={class:"big-icon"},o=(0,a.Uk)(" Sign In With Microsoft "),c=(0,a._)("div",{class:"mail-desc"},"OneDrive在中国大陆地区响应较慢，并可能出现网络错误等情况，请知悉",-1),l={class:"loading"},u={class:"big-icon"},d=(0,a._)("div",{class:"mail-desc"},"马上就好...",-1);function f(t,e,n,f,p,h){const m=(0,a.up)("fa-icon"),v=r.mi;return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(t.$style.syncInstaller)},[(0,a._)("div",{class:"slide",style:(0,i.j5)(`transform: translateX(${-280*(t.step-1)}px)`)},[(0,a._)("div",null,[(0,a._)("span",s,[(0,a.Wm)(m,{icon:["fab","microsoft"]})]),(0,a.Wm)(v,{size:"large",type:"primary",color:"#0079cc",class:"submit-button",onClick:t.loginMsft},{default:(0,a.w5)((()=>[o])),_:1},8,["onClick"]),c]),(0,a._)("div",l,[(0,a._)("span",u,[(0,a.Wm)(m,{icon:"circle-notch",spin:""})]),d])],4)],2)}var p=n(69033),h=n(1607),m=n(75444),v=n(14287),y=n(24621),g=n(20521),C=n(72867);const w="93a5cb17-1ee8-4abf-b1a3-c384a4f6952f";h.vI.add(m.hVS,v.f8k,v.IJ7);const $="OneDrive";var _=(0,a.aZ)({emits:["submit"],setup(t,{emit:e}){const n=(0,g.iH)(""),r=(0,g.iH)("");let i="",s="";try{i=location.hash.split("id_token=")[1].split("&")[0],s=location.hash.split("code=")[1].split("&")[0],location.replace("#")}catch(u){}const o=(0,g.iH)(i&&s?2:1),c=()=>{const t=location.href.replace(location.search,"").replace(location.hash,"");sessionStorage.setItem("msftTempRedirectUrl",t),o.value=2,location.href="https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize?client_id="+w+"&response_type=code%20id_token&redirect_uri="+encodeURIComponent(t)+"&scope=openid,profile,offline_access,Files.ReadWrite.AppFolder&response_mode=fragment&state=cocogoat-msft&nonce="+(new Date).getTime()},l=async()=>{const t=await fetch(await(0,C.HU)("/oauth/v1/microsoft"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s,redirect_uri:sessionStorage.getItem("msftTempRedirectUrl")})});if(200!==t.status||"application/json"!==t.headers.get("content-type")){o.value=1;let e=await t.text();try{const t=JSON.parse(e);e=t.error||t.msg}catch(u){}return void y.T.alert(e,"出错了！")}const n=await t.json();n.id_token=i,n.last_updated=Date.now();const r=b(i).replace(/\./g,"_").replace(/@/g,"_").replace(/-/g,"_");e("submit",{key:r,data:n})};return(0,a.bv)((()=>{i&&s&&l()})),{step:o,dtserver:n,dtlocal:r,loginMsft:c}}});function b(t){const e=t.split(".");if(3!==e.length)return"";const n=JSON.parse((0,p.Jx)(e[1]));return n.preferred_username}var S={syncInstaller:"sync-installer-b6ea8b"},M=n(48998);const D={};D["$style"]=S;const k=(0,M.Z)(_,[["render",f],["__cssModules",D]]);var x=k},35829:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return q}});n(96553),n(28228),n(98379),n(93955),n(17390),n(69437),n(9917);var r=n(12335),a=n(59084),i=n(33685),s=n(40981),o=n(6504),c=n(19812),l=n(55893);const u=(0,c._)("h4",null,"云同步",-1),d=(0,c._)("div",{class:"desc"},[(0,c.Uk)(" 在这里可以将您的账号与云同步。 "),(0,c._)("br"),(0,c.Uk)(" 如出现同步失败，一般是本地数据和云端数据出现了冲突，您可以选择： "),(0,c._)("li",null,"在下方点击手动同步，强制覆盖云端数据"),(0,c._)("li",null,"在下方点击清除本地数据，页面刷新后会自动从云端同步")],-1),f=(0,c.Uk)("手动同步"),p={key:1},h=(0,c.Uk)("   添加 "),m={style:{"text-align":"right"}},v=(0,c._)("br",null,null,-1),y={key:0,class:"failds"},g=(0,c._)("h4",null,"同步状态",-1),C=(0,c._)("br",null,null,-1),w=(0,c._)("h4",null,"本地导出",-1),$={class:"desc"},_=(0,c.Uk)(" 导出的本地文件为zip格式，因此只需通过删除其中不想要的文件即可实现部分导入。"),b=(0,c._)("br",null,null,-1),S=(0,c.Uk)("导入还没做好。 "),M=(0,c.Uk)("导出数据"),D=(0,c.Uk)("导入数据"),k=(0,c.Uk)("清除数据"),x={class:"add-form"};function O(t,e,n,O,T,W){const U=o.mi,A=s.$Y,I=(0,c.up)("fa-icon"),z=s.eI,H=i.BT,Z=i.km,j=a.os,Y=r.zd;return(0,c.wg)(),(0,c.iD)("section",{class:(0,l.C_)(t.$style.syncManager)},[u,d,(0,c.Wm)(z,{ref:"datatable",data:t.syncProviders,class:"account-table"},{default:(0,c.w5)((()=>[(0,c.Wm)(A,{prop:"id"},{header:(0,c.w5)((()=>[(0,c.Wm)(U,{onClick:e[0]||(e[0]=e=>t.forceSyncAll(!0))},{default:(0,c.w5)((()=>[f])),_:1})])),default:(0,c.w5)((t=>[t.row.provider.component?((0,c.wg)(),(0,c.j4)((0,c.LL)(t.row.provider.component),{key:0,provider:t.row.provider},null,8,["provider"])):((0,c.wg)(),(0,c.iD)("div",p,(0,l.zw)(JSON.stringify(t.row)),1))])),_:1}),(0,c.Wm)(A,{width:"120px"},{header:(0,c.w5)((()=>[(0,c.Wm)(U,{class:"add-button",type:"primary",plain:"",style:{float:"right"},onClick:e[1]||(e[1]=e=>t.$router.replace({...t.$route,params:{app:"cocogoat"}}))},{default:(0,c.w5)((()=>[(0,c.Wm)(I,{icon:"plus"}),h])),_:1})])),default:(0,c.w5)((e=>[(0,c._)("div",m,[(0,c.Wm)(U,{type:"danger",style:{width:"35px","margin-left":"2px"},plain:"",onClick:n=>t.delprovider(e.row)},{default:(0,c.w5)((()=>[(0,c.Wm)(I,{icon:"trash-can"})])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),v,t.syncStatus.errors.length>0?((0,c.wg)(),(0,c.iD)("div",y,[g,C,(0,c.Wm)(z,{data:t.syncStatus.errors,class:"error-table"},{default:(0,c.w5)((()=>[(0,c.Wm)(A,{prop:"provider",label:"同步服务"}),(0,c.Wm)(A,{prop:"provider",label:"错误类型"},{default:(0,c.w5)((e=>[(0,c.Uk)((0,l.zw)(t.errtype[e.row.code]||"其他错误"),1)])),_:1}),(0,c.Wm)(A,{prop:"provider",label:"详细信息"},{default:(0,c.w5)((t=>[(0,c.Uk)((0,l.zw)(t.row.message),1)])),_:1})])),_:1},8,["data"])])):(0,c.kq)("",!0),w,(0,c._)("div",$,[_,b,S,(0,c._)("p",null,[(0,c.Wm)(U,{type:"primary",plain:"",loading:t.exportLoading,onClick:t.exportData},{default:(0,c.w5)((()=>[M])),_:1},8,["loading","onClick"]),(0,c.Wm)(U,{plain:"",disabled:""},{default:(0,c.w5)((()=>[D])),_:1}),(0,c.Wm)(U,{plain:"",type:"danger",onClick:t.clearData},{default:(0,c.w5)((()=>[k])),_:1},8,["onClick"])])]),(0,c.Wm)(Y,{"model-value":""!==t.addType,"custom-class":"add-drawer",title:"添加同步账号",size:320,"append-to-body":!1,"z-index":900,"destroy-on-close":"","close-on-press-escape":!1,"close-on-click-modal":!1,onClose:e[3]||(e[3]=e=>t.$router.replace({...t.$route,params:{}}))},{default:(0,c.w5)((()=>[(0,c._)("div",x,[(0,c.Wm)(Z,{"model-value":t.addType,size:"large",style:{width:"100%"},"onUpdate:modelValue":e[2]||(e[2]=e=>t.$router.replace({...t.$route,params:{app:e}}))},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.providerInstallerList,(t=>((0,c.wg)(),(0,c.j4)(H,{key:t.class,value:t.class,label:t.name},null,8,["value","label"])))),128))])),_:1},8,["model-value"]),(0,c.Wm)(j),((0,c.wg)(),(0,c.j4)((0,c.LL)(t.addComp),{onSubmit:t.addSave},null,8,["onSubmit"]))])])),_:1},8,["model-value"])],2)}var T=n(1607),W=n(14287),U=n(17997),A=n(20521),I=n(13065),z=n(94281),H=n(29663),Z=n(76392),j=n.n(Z),Y=n(24621),F=n(28593);const J=n(88510),L=J.keys().map((t=>{const e=J(t);return{class:t.replace(/\.\/(.*?)\/Install\.vue$/,"$1"),name:e.name,component:e.default}}));T.vI.add(W.r8p,W.Yai,W.Vui);var N=(0,c.aZ)({setup(){const t=t=>{U.dk.value.splice(U.dk.value.indexOf(t),1),localStorage.removeItem("cocogoat.sync.v1."+t.id)},e=(0,I.yj)(),r=(0,I.tv)(),a=(0,c.Fl)((()=>(e.params.app||"").toString())),i=(0,c.Fl)((()=>{var t;return null===(t=L.find((t=>t.class===a.value)))||void 0===t?void 0:t.component})),s=({key:t,data:n})=>{let i=t?`${a.value}_${t}`:(new Date).getTime().toString(16).split("").reverse().join("").substring(0,8);localStorage.setItem("cocogoat.sync.v1."+i,JSON.stringify({class:a.value,data:n})),r.replace({...e,params:{app:""}}),(0,U.rb)().then((()=>(0,U.JV)(!1)))},o=(0,A.iH)(!1),l=async()=>{o.value=!0;const t=(await n.e(9644).then(n.t.bind(n,59644,23))).default,e=new t,r=(0,z.pb)().concat(["options","currentUser"]);r.forEach((t=>{const n=(0,z.U2)(t),r=(0,H.Z$)(t).toISOString();e.file(t+".json",JSON.stringify({value:n,lastModified:r},null,4))}));const a=await e.generateAsync({type:"blob"}),i=window.URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=`cocogoat-export-${j()().format("YYMMDDHHmm")}.zip`,s.click(),o.value=!1},u=async()=>{try{await Y.T.confirm("真的要清除本地数据吗？云端数据将依然保留，如需清理云端数据请通过删除账号方式操作。","提示")}catch(e){return}F.$K.value=!0,await(0,c.Y3)();const t=(0,z.pb)().concat(["options","currentUser"]);t.forEach((t=>{(0,z.IV)(t)})),location.reload()},d={conflict:"同步冲突",offline:"网络错误",auth:"登录失效"};return{syncProviders:U.dk,syncStatus:U.T$,providerInstallerList:L,delprovider:t,addType:a,addSave:s,addComp:i,forceSyncAll:U.JV,clearData:u,exportData:l,exportLoading:o,errtype:d}}}),E={syncManager:"sync-manager-cc055d"},B=n(48998);const V={};V["$style"]=E;const P=(0,B.Z)(N,[["render",O],["__cssModules",V]]);var q=P},88510:function(t,e,n){var r={"./cocogoat/Install.vue":28099,"./onedrive/Install.vue":11332};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=88510},59084:function(t,e,n){"use strict";n.d(e,{os:function(){return p}});var r=n(19812),a=n(55893),i=n(3087);const s=(0,i.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,i.Cq)(String),default:"solid"}});var o=n(65126),c=n(39788);const l=(0,r.aZ)({name:"ElDivider",props:s,setup(t){const e=(0,c.s)("divider"),n=(0,r.Fl)((()=>({"--el-border-style":t.borderStyle})));return{ns:e,dividerStyle:n}}});function u(t,e,n,i,s,o){return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)([t.ns.b(),t.ns.m(t.direction)]),style:(0,a.j5)(t.dividerStyle)},[t.$slots.default&&"vertical"!==t.direction?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,a.C_)([t.ns.e("text"),t.ns.is(t.contentPosition)])},[(0,r.WI)(t.$slots,"default")],2)):(0,r.kq)("v-if",!0)],6)}var d=(0,o.Z)(l,[["render",u]]),f=n(80245);const p=(0,f.nz)(d)},28228:function(t,e,n){"use strict";n(13910)},69033:function(t,e,n){"use strict";n.d(e,{Jx:function(){return $}});n(48675),n(3462),n(21703);const r="function"===typeof atob,a="function"===typeof Buffer,i="function"===typeof TextDecoder?new TextDecoder:void 0,s=("function"===typeof TextEncoder&&new TextEncoder,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),o=Array.prototype.slice.call(s),c=(t=>{let e={};return t.forEach(((t,n)=>e[t]=n)),e})(o),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),d="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),f=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),p=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,h=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return u(55296+(n>>>10))+u(56320+(1023&n));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=t=>t.replace(p,h),v=t=>{if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,a="";for(let i=0;i<t.length;)e=c[t.charAt(i++)]<<18|c[t.charAt(i++)]<<12|(n=c[t.charAt(i++)])<<6|(r=c[t.charAt(i++)]),a+=64===n?u(e>>16&255):64===r?u(e>>16&255,e>>8&255):u(e>>16&255,e>>8&255,255&e);return a},y=r?t=>atob(f(t)):a?t=>Buffer.from(t,"base64").toString("binary"):v,g=a?t=>d(Buffer.from(t,"base64")):t=>d(y(t),(t=>t.charCodeAt(0))),C=a?t=>Buffer.from(t,"base64").toString("utf8"):i?t=>i.decode(g(t)):t=>m(y(t)),w=t=>f(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),$=t=>C(w(t))}}]);