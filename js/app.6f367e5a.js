(function(){var e={88952:function(e,t,n){"use strict";var o=n(42244);const r=(0,o.Q_)("bus",{state:()=>({isMobile:!1})});t["Z"]=r},82619:function(e,t,n){"use strict";n.r(t),n.d(t,{i18n:function(){return p},initi18n:function(){return b},langNames:function(){return m},loadi18n:function(){return w},usei18n:function(){return l}});const o=n(37683),r={};o.keys().forEach((e=>{const t=e.replace(/^\.\/(.*?)\.webp$/,"$1");r[t]=o(e)}));var a=r,s=n(28593),i=n(19812),c=n(42244);const u=()=>({characters:[],artifacts:[],atifactParams:{},characterAvatar:{},amos:[]}),l=(0,c.Q_)("i18n",{state:u,getters:{}}),p=l(),f=n(7453),d={};f.keys().forEach((e=>{d[e.replace(/^\.\/(.*?)\/index\.ts$/,"$1")]=()=>f(e)}));const m={"zh-cn":"简体中文","en-us":"English"};async function w(){let e=s.YM.value.lang||navigator.language.toLowerCase();d[e]||(console.warn(`i18n: ${e} not found`),e="zh-cn");const t=d[e];if(t){const e=await t();e.characterAvatar=a;for(const t of Object.keys(e))p[t]=e[t]}}async function b(){await w(),(0,i.YP)((()=>s.YM.value.lang),w)}},83674:function(e,t,n){"use strict";var o=n(44220),r=n(19812);function a(e,t,n,o,a,s){const i=(0,r.up)("router-view"),c=(0,r.up)("uncompatible-dialog");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i),o.showUncompatible?((0,r.wg)(),(0,r.j4)(c,{key:0})):(0,r.kq)("",!0)],64)}var s={components:{UncompatibleDialog:(0,r.RC)((()=>n.e(1427).then(n.bind(n,91427))))},setup(){return{showUncompatible:!1}}},i=n(48998);const c=(0,i.Z)(s,[["render",a]]);var u=c,l=n(28501),p=n(71836),f=n(69997),d=n(16609),m=(n(9917),n(6504)),w=n(55893);function b(e,t,n,o,a,s){const i=(0,r.up)("fa-icon"),c=m.mi;return(0,r.wg)(),(0,r.iD)("div",{class:(0,w.C_)({[e.$style.fullHeight]:e.fullHeight,[e.$style.layout]:!0})},[(0,r._)("header",{class:(0,w.C_)(e.$style.componentHeader)},[(0,r._)("div",{class:(0,w.C_)(e.$style.appTitle)},[(0,r.WI)(e.$slots,"title")],2),e.$slots.actions?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,w.C_)([e.$style.boxActions,e.actionsOpen?e.$style.open:"",e.width>0?e.$style.loaded:""]),style:(0,w.j5)(e.isMobile?{transform:`translateX(${e.actionsOpen?0:(e.width||300)+21}px)`}:{})},[e.isMobile&&e.$slots.actions?((0,r.wg)(),(0,r.j4)(c,{key:0,class:(0,w.C_)(e.$style.btnActions),plain:"",onClick:t[0]||(t[0]=t=>e.actionsOpen=!e.actionsOpen)},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{icon:"angle-left"})])),_:1},8,["class"])):(0,r.kq)("",!0),(0,r._)("div",{ref:"actionsEl",class:(0,w.C_)(e.$style.appActions)},[(0,r.WI)(e.$slots,"actions")],2)],6)):(0,r.kq)("",!0)],2),(0,r._)("main",{class:(0,w.C_)(e.$style.componentMain)},[(0,r.WI)(e.$slots,"default")],2)],2)}var h=n(88952),g=n(20521),v=n(69337),y=n(1607),x=n(14287);y.vI.add(x.EyR);var O=(0,r.aZ)({props:{fullHeight:{type:Boolean,default:!1}},setup(){const e=(0,g.iH)(!1),t=(0,g.iH)(null),{width:n}=(0,v.h4X)(t);return{actionsOpen:e,actionsEl:t,width:n,isMobile:(0,g.Vh)((0,h.Z)(),"isMobile")}}}),k={componentHeader:"component-header-ef5153",appTitle:"app-title-a66f9f",fullHeight:"full-height-dad251",componentMain:"component-main-c83d43",layout:"layout-d21ab6",boxActions:"box-actions-e5c624",loaded:"loaded-fff1c3",open:"open-fe6fde",btnActions:"btn-actions-da5f71",appActions:"app-actions-adebe8"};const P={};P["$style"]=k;const E=(0,i.Z)(O,[["render",b],["__cssModules",P]]);var j=E,S=n(28593),_=n(17997),$=n(42244);const N=(0,o.ri)(u);N.use((0,$.WB)());let C=parent===window;if(!C)try{parent.location.origin===location.origin&&(C=!1)}catch(I){C=!0}(0,p.sA)(f.KU),(async()=>{const{initi18n:e,i18n:t}=await Promise.resolve().then(n.bind(n,82619));if(await e(),S.YM.value.reporting){const{init:e}=await n.e(5112).then(n.bind(n,55112));e(N,l.Z)}N.component("FaIcon",d.GN).component("Layout",j).use(l.Z).mount("#toki"),top!==window||location.href.includes("/frames")||(0,_.rb)(),window.$cocogoat={app:N,store:S.h,i18n:t,options:S.YM,resources:p.ZP,currentUser:S.ar}})()},69997:function(e,t,n){"use strict";n.d(t,{KU:function(){return w},sB:function(){return v},LS:function(){return h}});n(85827),n(21703),n(9170),n(34668),n(17922),n(48675),n(3462);var o=n(99991),r=n(83024),a=n(56341),s=n(45099),i=n(98450),c=n(38742),u=n(20659),l=n(99819),p=n(71836),f=JSON.parse('[{"tag":"ort","test":"ort-wasm-simd.wasm","prefix":"https://cdn.staticfile.org/onnxruntime-web/1.10.0/","resources":{"ort-wasm-simd.wasm":"ort-wasm-simd.wasm","ort-wasm-simd-threaded.wasm":"ort-wasm-simd-threaded.wasm","ort-wasm.wasm":"ort-wasm.wasm","ort-wasm-threaded.wasm":"ort-wasm-threaded.wasm"}},{"tag":"ort","test":"ort-wasm-simd.wasm","prefix":"https://s1.pstatp.com/cdn/expire-1-y/onnxruntime-web/1.10.0/","resources":{"ort-wasm-simd.wasm":"ort-wasm-simd.wasm","ort-wasm-simd-threaded.wasm":"ort-wasm-simd-threaded.wasm","ort-wasm.wasm":"ort-wasm.wasm","ort-wasm-threaded.wasm":"ort-wasm-threaded.wasm"}},{"tag":"ort","test":"ort-wasm-simd.wasm","prefix":"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.10.0/dist/","resources":{"ort-wasm-simd.wasm":"ort-wasm-simd.wasm","ort-wasm-simd-threaded.wasm":"ort-wasm-simd-threaded.wasm","ort-wasm.wasm":"ort-wasm.wasm","ort-wasm-threaded.wasm":"ort-wasm-threaded.wasm"}},{"tag":"resources","test":"opencv-simd.wasm","prefix":"https://cdn.jsdelivr.net/npm/@yuehaiteam/cocogoat-resources@1.0.5/","resources":{"opencv-simd.wasm":"opencv-simd.wasm","opencv-normal.wasm":"opencv-normal.wasm","ppocr.ort":"ppocr.ort.as.wasm","yas.ort":"yas.ort.as.wasm"}},{"tag":"resources","test":"opencv-simd.wasm","prefix":"https://unpkg.zhimg.com/@yuehaiteam/cocogoat-resources@1.0.5/","resources":{"opencv-simd.wasm":"opencv-simd.wasm","opencv-normal.wasm":"opencv-normal.wasm","ppocr.ort":"ppocr.ort.as.wasm","yas.ort":"yas.ort.as.wasm"}},{"tag":"resources","test":"opencv-simd.wasm","prefix":"https://npm.elemecdn.com/@yuehaiteam/cocogoat-resources@1.0.5/","resources":{"opencv-simd.wasm":"opencv-simd.wasm","opencv-normal.wasm":"opencv-normal.wasm","ppocr.ort":"ppocr.ort.as.wasm","yas.ort":"yas.ort.as.wasm"}}]'),d=n(24621);n(4985),n(95294);function m(e){return e.startsWith("data:")||e.startsWith("blob:")?e:new URL(e,location.href).href.replace("?raw","").replace("?rawnolocal","")}const w={"ort-wasm-simd-threaded.wasm":m(s),"ort-wasm-simd.wasm":m(a),"ort-wasm-threaded.wasm":m(r),"ort-wasm.wasm":m(o),"opencv-normal.wasm":m(i),"opencv-simd.wasm":m(c),"ppocr.ort":m(u),"yas.ort":m(l)},b={"ort-wasm-simd-threaded.wasm":6416737,"ort-wasm-simd.wasm":7177826,"ort-wasm-threaded.wasm":5959415,"ort-wasm.wasm":6765843,"opencv-normal.wasm":3548861,"opencv-simd.wasm":4752861,"ppocr.ort":4504512,"yas.ort":8928032};function h(){const e=f.reduce(((e,t)=>{const n=t.tag;return e[n]||(e[n]=[]),e[n].push(t),e}),{}),t=[],n=[];for(const o of Object.keys(e)){const r=e[o],a=r.map((e=>(async()=>{const t=await fetch((e.prefix||"")+e.test,{method:"HEAD",mode:"cors"});if(!t.ok)throw new Error(`${e.test} is not available`);const n={...e.resources};for(const o of Object.keys(n))p.yw[o].urls.push((e.prefix||"")+n[o]);return e})()));t.push(Promise.any(a).then((e=>{const t={...e.resources};for(const n of Object.keys(t))t[n]=(e.prefix||"")+t[n];return(0,p.yt)(t),e}))),n.push(...a)}return[Promise.allSettled(t),Promise.allSettled(n)]}function g(e,t,n=8388608){if(e.startsWith("data:application/gzip"))return(async()=>{const t=fetch(e);try{if(window.DecompressionStream){const e=new window.DecompressionStream("gzip"),n=await t;if(!n.body)throw new Error("No body");const o=n.body.pipeThrough(e);return console.log("Decompressed successfully using stream"),await new Response(o).blob()}throw new Error("DecompressionStream not available")}catch(n){if(!window.pako)try{await x("https://lib.baomitu.com/pako/2.0.4/pako_inflate.min.js")}catch(n){try{await x("https://cdn.staticfile.org/pako/2.0.4/pako_inflate.min.js")}catch(n){}}if(!window.pako)throw document.querySelector(".el-overlay.is-message-box")||(0,d.T)({title:"出错了！",message:"您当前的浏览器版本过低，请升级浏览器或连接网络再试。",showConfirmButton:!1,showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1}),new Error("cannot decompress file");const e=await t;if(!e.body)throw new Error("No body");const o=await e.arrayBuffer(),r=window.pako.inflate(new Uint8Array(o));return console.log("Decompressed successfully using pako"),new Blob([r],{type:"application/octet-stream"})}})();if(e.startsWith("data:"))return fetch(e).then((e=>e.blob()));const o=new XMLHttpRequest;return o.open("GET",e,!0),o.responseType="blob",o.onprogress=e=>{let r=0;r=e.lengthComputable?e.total:Number(o.getResponseHeader("content-length")||n),r>0&&t(e.loaded,r)},new Promise(((e,t)=>{o.onload=()=>{200===o.status?e(o.response):t(new Error(`${o.status} ${o.statusText}`))},o.onerror=()=>{t(new Error(`${o.status} ${o.statusText}`))},o.send()}))}async function v(e,t,n){const o=e.map((e=>({name:e,url:p.ZP[e],progress:0}))).filter((e=>!e.url.includes("blob:"))),r=()=>{t(Math.round(o.reduce(((e,t)=>e+t.progress),0)/o.length*9999)/100)},a=o.map((e=>{const{name:t,url:o}=e;function a(){const e=[o,...p.yw[t].urls];while(e[0]===e[1])e.shift();return e}return async function(t){let o,s=a(),i=0;while(o=s.shift())try{const n=await g(o,((t,n)=>{e.progress=Math.min(t/n,1),r()}),b[t]);return{name:t,blob:n}}catch(c){0===i&&(n&&await n,s=a().filter((e=>e!==o))),i++,console.error("资源加载失败, 重试：",c)}throw new Error("资源加载失败")}(t)})),s=await Promise.all(a);for(const i of s)"file:"===location.protocol?p.ZP[i.name]=await y(i.blob):p.ZP[i.name]=URL.createObjectURL(i.blob)}function y(e){return new Promise((t=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsDataURL(e)}))}function x(e){return new Promise(((t,n)=>{const o=document.createElement("script");o.src=e,o.onload=()=>t(),o.onerror=e=>n(e),document.head.appendChild(o)}))}},71836:function(e,t,n){"use strict";n.d(t,{yw:function(){return a},yt:function(){return s},sA:function(){return i}});const o={},r={...o},a={};function s(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]||o[t])}function i(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]||o[t]);Object.keys(r).forEach((e=>{a[e]={urls:[],blob:null,tested:!1}}))}t["ZP"]=r},28501:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var o=n(13065);const r=[{path:"/",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:"",name:"home",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(1037)]).then(n.bind(n,21751))}]},{path:"/artifact",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:"",name:"artifact.index",component:()=>Promise.all([n.e(5923),n.e(5414),n.e(6836)]).then(n.bind(n,77771))}]},{path:"/achievement",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:":cat?",name:"achievement.index",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(1020),n.e(4034),n.e(6518),n.e(1070),n.e(5414),n.e(1748),n.e(2776),n.e(8886)]).then(n.bind(n,11028))},{path:"scan-and-export",name:"achievement.scan-and-export",component:()=>Promise.all([n.e(5923),n.e(1020),n.e(4861)]).then(n.bind(n,48034))}]},{path:"/extra/installer",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:"",name:"installer.index",component:()=>Promise.all([n.e(4034),n.e(9612),n.e(354)]).then(n.bind(n,18222))}]},{path:"/options",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:"",name:"options",component:()=>Promise.all([n.e(9612),n.e(5649)]).then(n.bind(n,50367)),children:[{path:"",name:"options.basic",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(6518),n.e(5582),n.e(2625)]).then(n.bind(n,4e3))},{path:"user",name:"options.user",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(6518),n.e(1748),n.e(6137),n.e(5582),n.e(3532)]).then(n.bind(n,63247))},{path:"sync/:app?",name:"options.sync",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(5444),n.e(6518),n.e(1748),n.e(6137),n.e(5829)]).then(n.bind(n,35829))}]}]},{path:"/frames/achievement-scanner",component:()=>n.e(2233).then(n.bind(n,32233)),children:[{path:"",name:"frames.achievement.scan",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(5444),n.e(8206),n.e(1020),n.e(1941)]).then(n.bind(n,33682))},{path:"capture",name:"frames.achievement.scan.capture-scanner",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(5444),n.e(8206),n.e(1020),n.e(1399),n.e(4954)]).then(n.bind(n,57813))},{path:"line",name:"frames.achievement.scan.line-scanner",component:()=>Promise.all([n.e(4304),n.e(5444),n.e(8206),n.e(1020),n.e(4034),n.e(6267),n.e(2776),n.e(370)]).then(n.bind(n,89018))},{path:"screenshot",name:"frames.achievement.scan.screenshot-scanner",component:()=>Promise.all([n.e(4304),n.e(5444),n.e(8206),n.e(1020),n.e(4034),n.e(6267),n.e(5992)]).then(n.bind(n,92427))}]},{path:"/frames/artifact-scanner",component:()=>Promise.all([n.e(4304),n.e(5444),n.e(8206),n.e(5740)]).then(n.bind(n,75740)),children:[{path:"",name:"frames.artifact.scan",component:()=>Promise.all([n.e(5923),n.e(9818)]).then(n.bind(n,65487))},{path:"capture",name:"frames.artifact.scan.capture-scanner",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(5444),n.e(8206),n.e(1399),n.e(3627),n.e(8890)]).then(n.bind(n,10953))},{path:"screenshot",name:"frames.artifact.scan.screenshot-scanner",component:()=>Promise.all([n.e(4304),n.e(5444),n.e(8206),n.e(4034),n.e(6267),n.e(3627),n.e(7471)]).then(n.bind(n,93525))}]},{path:"/frames/playground",name:"frames.playground",component:()=>Promise.all([n.e(5923),n.e(4304),n.e(1070),n.e(4220),n.e(2650),n.e(8951),n.e(7735)]).then(n.bind(n,78657))},{path:"/extra/playground",component:()=>Promise.all([n.e(5923),n.e(5444),n.e(5414),n.e(4408)]).then(n.bind(n,23252)),children:[{path:"",name:"extra.playground",component:()=>Promise.all([n.e(1070),n.e(9182)]).then(n.bind(n,9182))}]},{path:"/extra/achievement-to-seelie",redirect:"/achievement/scan-and-export?to=seelie"},{path:"/extra/achievement-to-paimon-moe",redirect:"/achievement/scan-and-export?to=paimon-moe"}],a=(0,o.p7)({history:(0,o.PO)("/"),routes:r});function s(e){return a.resolve({name:e}).href}a.afterEach((e=>{try{window._hmt.push(["_trackPageview",e.fullPath])}catch(t){}})),t["Z"]=a},94281:function(e,t,n){"use strict";n.d(t,{U2:function(){return a},t8:function(){return s},IV:function(){return i},pb:function(){return c},ar:function(){return u}});var o=n(29663),r=n(17997);function a(e){return o.U2(e)}function s(e,t){const n=new Date,a=o.t8(e,t,n);(0,r.ZK)({user:e,data:t,now:n,last:a})}function i(e){const t=new Date,n=o.IV(e);(0,r.ZK)({user:e,data:null,now:t,last:n})}function c(){return o.pb()}function u(e){const t=new Date;if(e){const[n,a]=o.ar(e,t);(0,r.ZK)({user:"currentUser",data:n,now:t,last:a})}return o.ar(e,t)[0]}},29663:function(e,t,n){"use strict";function o(e){const t=localStorage.getItem(`cocogoat.v1.${e}`);try{return JSON.parse(t)}catch(n){return null}}function r(e){const t=localStorage.getItem(`cocogoat.v1-t.${e}`);try{return new Date(t)||new Date(0)}catch(n){return new Date(0)}}function a(e,t,n){if(null===t||void 0===t)return new Date(0);const o=new Date(localStorage.getItem(`cocogoat.v1-t.${e}`)||0);return localStorage.setItem(`cocogoat.v1.${e}`,JSON.stringify(t)),localStorage.setItem(`cocogoat.v1-t.${e}`,(n||new Date(0)).toISOString()),o}function s(e){const t=new Date(localStorage.getItem(`cocogoat.v1-t.${e}`)||0);return localStorage.removeItem(`cocogoat.v1.${e}`),localStorage.removeItem(`cocogoat.v1-t.${e}`),t}function i(){return Object.keys(localStorage).filter((e=>e.startsWith("cocogoat.v1.")&&!e.endsWith(".options")&&!e.includes(".playground.")&&!e.endsWith(".currentUser"))).map((e=>e.substring(12)))}function c(e,t){if(e){const n=a("currentUser",e,t);return[e,n]}return[o("currentUser")||"empty-uid",new Date(0)]}n.d(t,{U2:function(){return o},Z$:function(){return r},t8:function(){return a},IV:function(){return s},pb:function(){return i},ar:function(){return c}})},28593:function(e,t,n){"use strict";n.d(t,{$K:function(){return s},Vv:function(){return i},ar:function(){return d},h:function(){return m},YM:function(){return w},XE:function(){return b},hk:function(){return h}});var o=n(94281),r=n(20521),a=n(19812);const s=(0,r.iH)(!1);function i(){return{achievements:[],artifacts:[],user:{name:"默认",avatar:"traveler"}}}function c(){return{lang:navigator.language.toLowerCase(),achievements_recent_export:"paimon",reporting:!0}}function u(){const e=(0,o.ar)(),t=(0,o.U2)(e)||{};return Object.assign(i(),t)}function l(){const e=(0,o.U2)("options")||{};return Object.assign(c(),e)}function p(){const e=(0,o.pb)(),t=e.map((e=>({id:e,...(0,o.U2)(e).user})));return e.find((e=>e==d.value))||t.unshift({id:d.value,name:"默认",avatar:"traveler"}),t}function f(e,t,n){const r=()=>(0,a.YP)(t,(t=>{if(s.value)return;(0,o.t8)(e.value,t);const n=(0,o.ar)();n!==e.value&&(0,o.ar)(e.value)}),{deep:!0});let i=r();(0,a.YP)(e,(e=>{if(s.value)return;i();const n=(0,o.ar)();n!==e&&((0,o.ar)(e),t.value=u()),i=r()})),(0,a.YP)(n,(e=>{s.value||(0,o.t8)("options",e)}),{deep:!0})}const d=(0,r.iH)((0,o.ar)()),m=(0,r.iH)(u()),w=(0,r.iH)(l()),b=(0,r.iH)(p());function h(){b.value=p()}f(d,m,w)},17997:function(e,t,n){"use strict";n.d(t,{mA:function(){return l},fS:function(){return p},dk:function(){return f},s9:function(){return d},T$:function(){return m},rb:function(){return w},ZK:function(){return x},JV:function(){return O}});var o=n(78255),r=(n(21703),n(17922),n(2349)),a=n(20521),s=n(19812),i=n(28593),c=n(29663);const u=n(48597);var l,p;(function(e){e["OFFLINE"]="offline",e["WAITING"]="waitng",e["SYNCING"]="syncing",e["SYNCED"]="synced",e["FAILED"]="failed",e["PARTIALLY"]="partially"})(l||(l={})),function(e){e["CONFLICT"]="conflict",e["OFFLINE"]="offline",e["OTHER"]="other",e["AUTH"]="auth"}(p||(p={}));const f=(0,a.iH)([]);class d extends Error{constructor(e,t,n){super(t),(0,o.Z)(this,"err",void 0),(0,o.Z)(this,"errmsg",void 0),(0,o.Z)(this,"code",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"provider",void 0),this.err=e,this.errmsg=t,this.code=e,this.data=n}}const m=(0,a.iH)({status:l.OFFLINE,errors:[]}),w=async()=>{const e={};u.keys().forEach((t=>{e[t.replace(/^\.\/(.*?)\/index\.ts$/,"$1")]=async e=>{const n=(await u(t)).default;return new n(e)}}));const t=Object.keys(localStorage).filter((e=>e.startsWith("cocogoat.sync.v1."))).map((e=>[e.replace("cocogoat.sync.v1.",""),localStorage.getItem(e)]));const n=t.map((([t,n])=>{const o=f.value.find((e=>e.id===t));if(o)return Promise.resolve(o);try{const o=JSON.parse(n),r=(0,a.qj)(o.data),i=(0,s.YP)(r,(e=>{localStorage.setItem("cocogoat.sync.v1."+t,JSON.stringify({class:o.class,data:e}))}));return(async()=>{const n=await e[o.class](r);return{id:t,class:o.class,data:r,provider:n,unwatch:i}})()}catch(r){return console.log(r),!1}})).filter((e=>!1!==e));f.value=await Promise.all(n),f.value.length>0&&(m.value.status=l.SYNCING,b())},b=async()=>{const e=f.value.map((e=>e.provider.loadAll())),t=(await Promise.allSettled(e)).map(((e,t)=>({provider:f.value[t].id,result:e}))),n=t.filter((e=>"rejected"===e.result.status)).map((e=>{const t=e.result.reason;return t.provider=e.provider,t})),o=t.filter((e=>"fulfilled"===e.result.status)).map((e=>{const t=e.result;for(const n of Object.values(t.value))n.provider=e.provider;return t})),r={};o.forEach((e=>{const{value:t}=e;Object.keys(t).forEach((e=>{r[e]||(r[e]=[]),r[e].push(t[e])}))})),Object.keys(r).forEach((e=>{const t=r[e],o=t.sort(((e,t)=>t.lastModified.getTime()-e.lastModified.getTime()))[0],a=c.Z$(e)||new Date(0),s=Math.floor(a.getTime()/1e3),i=Math.floor(o.lastModified.getTime()/1e3);if(s>i){const t=new d(p.CONFLICT,"conflict when getting ["+e+"]",{localNow:new Date(0),localLast:a,remoteLast:o.lastModified});t.provider=o.provider,n.push(t)}else c.t8(e,o.value,o.lastModified)})),n.length>0?(m.value.status=l.PARTIALLY,console.error("-> SYNC Faild with errors :"),n.forEach((e=>{console.error(e)}))):m.value.status=l.SYNCED,i.$K.value=!0,await(0,s.Y3)(),(0,i.hk)(),i.ar.value=c.ar()[0];const a=c.U2(i.ar.value);return a&&(i.h.value=a),await(0,s.Y3)(),i.$K.value=!1,m.value.errors=n,{failed:n,count:e.length}},h=async({user:e,data:t,now:n,last:o,force:r})=>{const a=f.value.map((a=>a.provider.set(e,t,{localLast:o,localNow:n,forceOverride:r||void 0}))),s=(await Promise.allSettled(a)).map(((e,t)=>({provider:f.value[t].id,result:e}))),i=s.filter((e=>"rejected"===e.result.status)).map((e=>(e.result.reason.provider=e.provider,e.result.reason)));return{failed:i,count:a.length}};let g={};const v=async()=>{m.value.status=l.SYNCING;const e=g;g={};const t=await Promise.all(Object.values(e).map((e=>h(e))));let n=[],o=0;t.forEach((e=>{o+=e.count,n=n.concat(e.failed)})),n.length===o?m.value.status=l.FAILED:n.length>0?m.value.status=l.PARTIALLY:m.value.status=l.SYNCED,n.length>0&&(console.error("-> SYNC Faild with errors :"),n.forEach((e=>{console.error(e)}))),m.value.errors=n},y=(0,r.Z)(v,1e3),x=e=>{if(!(f.value.length<=0))return m.value.status=l.WAITING,g[e.user]=e,y()},O=async(e=!0)=>{const t=c.pb().concat(["options","currentUser"]);t.forEach((t=>{const n=c.Z$(t),o=c.U2(t);x({user:t,data:o,now:n,last:n,force:!!e||void 0})}))}},37683:function(e,t,n){var o={"./albedo.webp":70958,"./aloy.webp":25040,"./amber.webp":78013,"./arataki_itto.webp":86457,"./barbara.webp":94044,"./beidou.webp":64243,"./bennett.webp":80163,"./chongyun.webp":54722,"./diluc.webp":27547,"./diona.webp":62342,"./eula.webp":32092,"./fischl.webp":70433,"./ganyu.webp":64910,"./gorou.webp":17804,"./hutao.webp":7893,"./jean.webp":97155,"./kaedeharakazuha.webp":9422,"./kaeya.webp":78640,"./kamisatoayaka.webp":78227,"./keqing.webp":59030,"./klee.webp":88315,"./kujousara.webp":91201,"./lisa.webp":698,"./mona.webp":31124,"./ningguang.webp":91515,"./noelle.webp":40925,"./qiqi.webp":46006,"./raidenshogun.webp":35218,"./razor.webp":49275,"./rosaria.webp":32847,"./sangonomiya_kokomi.webp":77822,"./sayu.webp":78265,"./shenhe.webp":35462,"./sucrose.webp":29335,"./tartaglia.webp":14432,"./thoma.webp":69349,"./traveler.webp":82895,"./venti.webp":35519,"./xiangling.webp":63144,"./xiao.webp":16299,"./xingqiu.webp":81927,"./xinyan.webp":9351,"./yaemiko.webp":82996,"./yanfei.webp":69328,"./yoimiya.webp":20006,"./yunjin.webp":45555,"./zhongli.webp":42618};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=37683},7453:function(e,t,n){var o={"./en-us/index.ts":[75529,5529],"./zh-cn/index.ts":[65913,5913]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=7453,e.exports=r},48597:function(e,t,n){var o={"./cocogoat/index.ts":[88547,8547],"./debug/index.ts":[21808,1808],"./onedrive/index.ts":[72351,5444,2351]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=48597,e.exports=r},70958:function(e,t,n){"use strict";e.exports=n.p+"img/albedo.86fe50ad.webp"},25040:function(e,t,n){"use strict";e.exports=n.p+"img/aloy.8e1e5662.webp"},78013:function(e,t,n){"use strict";e.exports=n.p+"img/amber.83c68dfc.webp"},86457:function(e,t,n){"use strict";e.exports=n.p+"img/arataki_itto.d5267629.webp"},94044:function(e,t,n){"use strict";e.exports=n.p+"img/barbara.df4f9cd0.webp"},64243:function(e,t,n){"use strict";e.exports=n.p+"img/beidou.3b985123.webp"},80163:function(e,t,n){"use strict";e.exports=n.p+"img/bennett.bf723638.webp"},54722:function(e,t,n){"use strict";e.exports=n.p+"img/chongyun.d81dcbdb.webp"},27547:function(e,t,n){"use strict";e.exports=n.p+"img/diluc.39af1906.webp"},62342:function(e,t,n){"use strict";e.exports=n.p+"img/diona.d34febdd.webp"},32092:function(e,t,n){"use strict";e.exports=n.p+"img/eula.7cdda6a6.webp"},70433:function(e,t,n){"use strict";e.exports=n.p+"img/fischl.67354abd.webp"},64910:function(e,t,n){"use strict";e.exports=n.p+"img/ganyu.3bd395d1.webp"},17804:function(e,t,n){"use strict";e.exports=n.p+"img/gorou.cb314dae.webp"},7893:function(e,t,n){"use strict";e.exports=n.p+"img/hutao.c70ca0a4.webp"},97155:function(e,t,n){"use strict";e.exports=n.p+"img/jean.b5ec9017.webp"},9422:function(e,t,n){"use strict";e.exports=n.p+"img/kaedeharakazuha.3e0931bc.webp"},78640:function(e,t,n){"use strict";e.exports=n.p+"img/kaeya.aa49b98d.webp"},78227:function(e,t,n){"use strict";e.exports=n.p+"img/kamisatoayaka.b02ba2c5.webp"},59030:function(e,t,n){"use strict";e.exports=n.p+"img/keqing.690a2959.webp"},88315:function(e,t,n){"use strict";e.exports=n.p+"img/klee.a1583c5b.webp"},91201:function(e,t,n){"use strict";e.exports=n.p+"img/kujousara.a563444b.webp"},698:function(e,t,n){"use strict";e.exports=n.p+"img/lisa.59265458.webp"},31124:function(e,t,n){"use strict";e.exports=n.p+"img/mona.c9653dab.webp"},91515:function(e,t,n){"use strict";e.exports=n.p+"img/ningguang.210d23fd.webp"},40925:function(e,t,n){"use strict";e.exports=n.p+"img/noelle.14c4b02e.webp"},46006:function(e,t,n){"use strict";e.exports=n.p+"img/qiqi.c360c88e.webp"},35218:function(e,t,n){"use strict";e.exports=n.p+"img/raidenshogun.1efad791.webp"},49275:function(e,t,n){"use strict";e.exports=n.p+"img/razor.d279175a.webp"},32847:function(e,t,n){"use strict";e.exports=n.p+"img/rosaria.8e554deb.webp"},77822:function(e,t,n){"use strict";e.exports=n.p+"img/sangonomiya_kokomi.ebceaa93.webp"},78265:function(e,t,n){"use strict";e.exports=n.p+"img/sayu.d6cd139f.webp"},35462:function(e,t,n){"use strict";e.exports=n.p+"img/shenhe.b99b6500.webp"},29335:function(e,t,n){"use strict";e.exports=n.p+"img/sucrose.291a067a.webp"},14432:function(e,t,n){"use strict";e.exports=n.p+"img/tartaglia.ab53309d.webp"},69349:function(e,t,n){"use strict";e.exports=n.p+"img/thoma.0cda02ce.webp"},82895:function(e,t,n){"use strict";e.exports=n.p+"img/traveler.cb7a9ff2.webp"},35519:function(e,t,n){"use strict";e.exports=n.p+"img/venti.be201452.webp"},63144:function(e,t,n){"use strict";e.exports=n.p+"img/xiangling.a534b265.webp"},16299:function(e,t,n){"use strict";e.exports=n.p+"img/xiao.9e001f55.webp"},81927:function(e,t,n){"use strict";e.exports=n.p+"img/xingqiu.bf801eac.webp"},9351:function(e,t,n){"use strict";e.exports=n.p+"img/xinyan.698970e6.webp"},82996:function(e,t,n){"use strict";e.exports=n.p+"img/yaemiko.63fc2628.webp"},69328:function(e,t,n){"use strict";e.exports=n.p+"img/yanfei.6dd75ee7.webp"},20006:function(e,t,n){"use strict";e.exports=n.p+"img/yoimiya.5d84e9a1.webp"},45555:function(e,t,n){"use strict";e.exports=n.p+"img/yunjin.660b2dc8.webp"},42618:function(e,t,n){"use strict";e.exports=n.p+"img/zhongli.86a9745c.webp"},20659:function(e,t,n){"use strict";e.exports=n.p+"assets/ppocr.b1467b3c.ort"},98450:function(e,t,n){"use strict";e.exports=n.p+"assets/opencv-normal.8a09b7c6.wasm"},38742:function(e,t,n){"use strict";e.exports=n.p+"assets/opencv-simd.8a3769f7.wasm"},99819:function(e,t,n){"use strict";e.exports=n.p+"assets/yas.7b8a11ee.ort"},45930:function(e){"use strict";e.exports=monaco}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],a=e[l][2];for(var i=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return o[e]}}));return s["default"]=function(){return o},n.d(a,s),a}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{354:"d8943517",370:"2b7992a4",1020:"93d415a9",1037:"ecec2be7",1070:"7dee2dfa",1399:"835c3621",1427:"82312a88",1748:"abfddcc5",1808:"1609524d",1941:"8888dfc6",2233:"b29e19af",2351:"aed34595",2625:"5a753547",2650:"be596d2f",2776:"3955e551",3532:"ee37810c",3627:"67847ed6",4034:"339af643",4220:"83ce2f68",4304:"96a6941d",4408:"e7df197b",4679:"c5d000d9",4861:"b2d3f1a5",4954:"9e651eb0",5112:"44123bdd",5414:"c475808e",5444:"9a980000",5529:"6326b23d",5582:"6718a587",5649:"6f690066",5740:"e43fb6fa",5829:"54b949f1",5913:"968aad54",5923:"0e6c049c",5992:"139f236a",6137:"71b9ab16",6267:"a6e775ca",6518:"530b5c93",6836:"b6b4c4a5",7471:"b3a9f3c4",7735:"e095fa1b",7741:"eda1ae63",8206:"0c9e5aff",8547:"0cb8e12b",8886:"79118ca3",8890:"e87783eb",8951:"d740e052",9182:"469ee8db",9612:"27fc8312",9644:"fe9e32bb",9818:"de1b7f79"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{354:"fae3694b",370:"15ddc70c",1037:"8717ea06",1427:"1a822a5e",1941:"53dcb402",2351:"9b83fb1d",2625:"335e3612",3532:"6994b766",4408:"04e78d1a",4861:"0d7e2d60",4954:"24424aa4",5112:"5fc0a5eb",5649:"0c2af974",5740:"3184b091",5829:"1cad9722",5992:"535c9abb",6137:"ff763efc",6518:"80cb6932",6836:"14ab319d",7471:"99d57c29",7735:"7896ae15",8547:"049f7697",8886:"621e6595",8890:"ff7e178e",9182:"4a050d25",9818:"3ed1cfce"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="cocogoat-web:";n.l=function(o,r,a,s){if(e[o])e[o].push(r);else{var i,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==o||p.getAttribute("data-webpack")==t+a){i=p;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=o),e[o]=[r];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(d);var r=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="https://cocogoat-1251105598.file.myqcloud.com/"}(),function(){"undefined"!==typeof n&&"undefined"!==typeof globalThis&&globalThis._base&&(n.p=_base)}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(a){if(r.onerror=r.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,r.parentNode.removeChild(r),o(c)}};return r.onerror=r.onload=a,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var s=n.miniCssF(o),i=n.p+s;if(t(s,i))return r();e(o,i,r,a)}))},r={2143:0};n.f.miniCss=function(e,t){var n={354:1,370:1,1037:1,1427:1,1941:1,2351:1,2625:1,3532:1,4408:1,4861:1,4954:1,5112:1,5649:1,5740:1,5829:1,5992:1,6137:1,6518:1,6836:1,7471:1,7735:1,8547:1,8886:1,8890:1,9182:1,9818:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){n.b=document.baseURI||self.location.href;var e={2143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var s=n.p+n.u(t),i=new Error,c=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,r[1](i)}};n.l(s,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],i=o[1],c=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var l=c(n)}for(t&&t(o);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},o=self["define"]=self["define"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}(),n.O(void 0,[4998],(function(){return n(44563)}));var o=n.O(void 0,[4998],(function(){return n(83674)}));o=n.O(o)})();