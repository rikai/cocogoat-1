(self["define"]=self["define"]||[]).push([[1941],{76392:function(t){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",s="second",i="minute",o="hour",a="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+$(r,2,"0")+":"+$(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(r,c),i=n-s<0,o=e.clone().add(r+(i?-1:1),c);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:a,D:f,h:o,m:i,s:s,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",_={};_[w]=p;var y=function(t){return t instanceof k},M=function(t,e,n){var r;if(!t)return w;if("string"==typeof t)_[t]&&(r=t),e&&(_[t]=e,r=t);else{var s=t.name;_[s]=t,r=s}return!n&&r&&(w=r),r||!n&&w},D=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},b=g;b.l=M,b.i=y,b.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function p(t){this.$L=M(t.locale,null,!0),this.parse(t)}var $=p.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(m);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return b},$.isValid=function(){return!(this.$d.toString()===h)},$.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return D(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<D(t)},$.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,e){var n=this,r=!!b.u(e)||e,l=b.p(t),h=function(t,e){var s=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?s:s.endOf(a)},m=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,p=this.$M,$=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case d:return r?h(1,0):h(31,11);case c:return r?h(1,p):h(0,p+1);case u:var w=this.$locale().weekStart||0,_=(v<w?v+7:v)-w;return h(r?$-_:$+(6-_),p);case a:case f:return m(g+"Hours",0);case o:return m(g+"Minutes",1);case i:return m(g+"Seconds",2);case s:return m(g+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(t,e){var n,u=b.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[a]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[o]=l+"Hours",n[i]=l+"Minutes",n[s]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],m=u===a?this.$D+(e-this.$W):e;if(u===c||u===d){var v=this.clone().set(f,1);v.$d[h](m),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[b.p(t)]()},$.add=function(r,l){var f,h=this;r=Number(r);var m=b.p(l),v=function(t){var e=D(h);return b.w(e.date(e.date()+Math.round(t*r)),h)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===a)return v(1);if(m===u)return v(7);var p=(f={},f[i]=e,f[o]=n,f[s]=t,f)[m]||1,$=this.$d.getTime()+r*p;return b.w($,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",s=b.z(this),i=this.$H,o=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(t,n,s,i){return t&&(t[n]||t(e,r))||s[n].substr(0,i)},d=function(t){return b.s(i%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:b.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:b.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,o,!0),A:f(i,o,!1),m:String(o),mm:b.s(o,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:s};return r.replace(v,(function(t,e){return e||m[t]||s.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(r,f,h){var m,v=b.p(f),p=D(r),$=(p.utcOffset()-this.utcOffset())*e,g=this-p,w=b.m(this,p);return w=(m={},m[d]=w/12,m[c]=w,m[l]=w/3,m[u]=(g-$)/6048e5,m[a]=(g-$)/864e5,m[o]=g/n,m[i]=g/e,m[s]=g/t,m)[v]||g,h?w:b.a(w)},$.daysInMonth=function(){return this.endOf(c).$D},$.$locale=function(){return _[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return b.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},p}(),S=k.prototype;return D.prototype=S,[["$ms",r],["$s",s],["$m",i],["$H",o],["$W",a],["$M",c],["$y",d],["$D",f]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,k,D),t.$i=!0),D},D.locale=M,D.isDayjs=y,D.unix=function(t){return D(1e3*t)},D.en=_[w],D.Ls=_,D.p={},D}))},31060:function(t,e,n){"use strict";n.d(e,{zG:function(){return m}});var r=n(61976),s=n(71836),i=n(69997),o=n(84627),a=n(40192),u=n(51020),c=n(82619),l=n(75345);function d(){let t;t=new o.Cc(new URL(n.p+n.u(4679),n.b)),console.log("Worker created using worker-plugin");const e=(0,r.Ud)(t);return{worker:e,_worker:t}}function f(){const{worker:t,_worker:e}=d(),{worker:n,_worker:r}=d(),{scannerOnImage:o,scannerOnLine:f,recognizeAchievement:h}=t,{recognizeAchievement:m,scannerOnLine:v}=n;let p=t=>{};const $=t=>{p=t},g=t=>{throw p(-99),t};e.addEventListener("error",g),r.addEventListener("error",g);const w=(async()=>{try{const[e,r]=(0,i.LS)(),o=a.hP?"ort-wasm-simd.wasm":"ort-wasm.wasm",d=a.hP?"opencv-simd.wasm":"opencv-normal.wasm";await e,await(0,i.sB)([o,d,"ppocr.ort"],(t=>p(t)),r);const f=(0,l.Z)(c.i18n.amos);await Promise.all([t.setResources(s.ZP),n.setResources(s.ZP),t.initAchievementMap(u.Z,f),n.initAchievementMap(u.Z,f)]),p(100)}catch(o){throw p(-1),o}e.removeEventListener("error",g),r.removeEventListener("error",g),await Promise.all([t.init(),n.init()])})();return{recognizeAchievement:m,recognizeAchievement2:h,scannerOnLine:v,scannerOnLine2:f,scannerOnImage:o,initPromise:w,workerCV:t,workerOCR:n,onProgress:$}}let h;function m(){return h||(h=f()),h}},21277:function(t,e,n){"use strict";function r(t,e){parent&&window!==parent&&parent.postMessage({app:"cocogoat.scanner.achievement",event:t,data:JSON.parse(JSON.stringify(e))},"*")}n.d(e,{l:function(){return r}})},45161:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});n(77610);var r=n(69417),s=n(19812),i=n(55893);function o(t,e,n,o,a,u){const c=r.Q0;return(0,s.wg)(),(0,s.j4)(c,{content:o.buildDesc,"raw-content":""},{default:(0,s.w5)((()=>[(0,s.Uk)("#"+(0,i.zw)(o.buildTime),1)])),_:1},8,["content"])}var a=n(76392),u=n.n(a),c={setup(){const t=u()(Number("1648700505516")),e="ab50904f",n="";return{buildTime:"2203311221",buildDesc:`#${e} - ${t.format("YYYY-MM-DD HH:mm:ss")}${n?"<br/ >"+n.replace(/\n/g,"<br>"):""}`}}},l=n(48998);const d=(0,l.Z)(c,[["render",o]]);var f=d},83889:function(t,e,n){"use strict";n.d(e,{Z:function(){return O}});var r=n(19812),s=n(55893);const i={class:"l"},o={class:"x"},a=(0,r._)("div",{class:"text"},[(0,r.Uk)("当前浏览器不支持此功能"),(0,r._)("br"),(0,r.Uk)("请升级或更换浏览器")],-1),u={key:1,class:"scanner-loading"},c={class:"loader-animation"},l=(0,r._)("div",{class:"loader-text"},"椰羊正在饮甘露，马上就来",-1),d={class:"loader-progress"},f={class:"loader-progress-text"};function h(t,e,n,h,m,v){const p=(0,r.up)("fa-icon"),$=(0,r.up)("icon-loading");return(0,r.wg)(),(0,r.iD)("div",null,[t.ocrCompatible?((0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",{class:(0,s.C_)(t.$style.loader)},[(0,r._)("div",c,[(0,r.Wm)($,{class:"loader-svg",percent:.88*t.progress+5},null,8,["percent"])]),l,(0,r._)("div",d,[(0,r._)("div",{class:"loader-progress-bar",style:(0,s.j5)({width:t.progress+"%"})},null,4)]),(0,r._)("div",f,[(0,r._)("span",null,(0,s.zw)(t.progressText||`${t.progress.toFixed(2)}%`),1)])],2)])):((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)(t.$style.showUncompatible)},[(0,r._)("span",i,[(0,r.Wm)(p,{icon:["fab","internet-explorer"]}),(0,r._)("span",o,[(0,r.Wm)(p,{icon:"triangle-exclamation"})])]),a],2))])}var m=n(20521),v=n(40192),p=n(31060),$=n(21277),g=n(92002),w=n(1607),_=n(14287),y=n(75444);w.vI.add(_.ik8,y.EPy);var M=(0,r.aZ)({components:{IconLoading:g.Z},emits:["done"],setup(t,{emit:e}){const n=(0,m.iH)(0),s=(0,m.iH)("获取资源地址");return(0,r.bv)((async()=>{if(!v.KL)return;const t=(0,p.zG)();t.onProgress((t=>{if(!(n.value<0)){if((0,$.l)("load",t),n.value=t,t<-90)return(0,$.l)("load",!1),void(s.value="应用初始化失败, 请联系开发者");if(t<0)return(0,$.l)("load",!1),void(s.value="加载失败, 请刷新重试或联系开发者");s.value="",t>=100&&(s.value="校验完整性",setTimeout((()=>{(0,$.l)("load",!0),s.value="应用初始化"}),140))}})),t.initPromise.then((()=>{e("done")}))})),{ocrCompatible:v.KL,progress:n,progressText:s}}}),D={showUncompatible:"show-uncompatible-cfbfd0",loader:"loader-a3e60a",scannerCssloadLoader:"scanner-cssload-loader-eb1b08",scannerCssloadLoaderInner:"scanner-cssload-loader-inner-c70159"},b=n(48998);const k={};k["$style"]=D;const S=(0,b.Z)(M,[["render",h],["__cssModules",k]]);var O=S},33682:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return F}});var r=n(19812),s=n(55893);const i=(0,r._)("h1",null,[(0,r.Uk)(" 椰羊·成就扫描 "),(0,r._)("small",null,"请选择扫描方式")],-1),o={class:"method-list"},a=(0,r.Uk)(" 读屏扫描 "),u={key:0},c=(0,r._)("div",null,"滚动页面自动扫描",-1),l=(0,r._)("div",null,"推荐电脑用户使用",-1),d=[c,l],f={key:1,style:{color:"#fe6565"}},h=(0,r._)("div",null,"暂不支持该浏览器",-1),m=(0,r._)("div",{style:{"font-size":"12px"}},"请换用Chrome或Edge",-1),v=[h,m],p=(0,r._)("h2",null,[(0,r.Uk)(" 截图识别 "),(0,r._)("small",null,[(0,r._)("div",null,"手动截图上传识别"),(0,r._)("div",null,"手机用户可以选择")])],-1),$={class:"line-entrance"},g=(0,r._)("h2",null,"图片集识别",-1),w=(0,r._)("small",null,"导入第三方扫描器的图片结果",-1);function _(t,e,n,c,l,h){const m=(0,r.up)("Loader"),_=(0,r.up)("fa-icon"),y=(0,r.up)("router-link"),M=(0,r.up)("FooterComponent");return(0,r.wg)(),(0,r.iD)("div",null,[t.load?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,s.C_)(t.$style.scannerEntrance)},[i,(0,r._)("div",o,[(0,r.Wm)(y,{to:{name:"frames.achievement.scan.capture-scanner",params:{direct:!0}},class:(0,s.C_)(["one",{disabled:!t.scannerCompatible}])},{default:(0,r.w5)((()=>[(0,r._)("i",null,[(0,r.Wm)(_,{icon:"desktop"})]),(0,r._)("h2",null,[a,t.scannerCompatible?((0,r.wg)(),(0,r.iD)("small",u,d)):((0,r.wg)(),(0,r.iD)("small",f,v))])])),_:1},8,["to","class"]),(0,r.Wm)(y,{class:"one",to:{name:"frames.achievement.scan.screenshot-scanner"}},{default:(0,r.w5)((()=>[(0,r._)("i",null,[(0,r.Wm)(_,{icon:"crop-simple"})]),p])),_:1},8,["to"])]),(0,r._)("div",$,[(0,r.Wm)(y,{to:{name:"frames.achievement.scan.line-scanner"}},{default:(0,r.w5)((()=>[(0,r._)("i",null,[(0,r.Wm)(_,{icon:"clipboard-list"})]),g,w])),_:1},8,["to"])]),(0,r.Wm)(M)],2)):((0,r.wg)(),(0,r.j4)(m,{key:0,onDone:e[0]||(e[0]=e=>t.load=!0)}))])}var y=n(20521),M=n(83889);const D=(0,r.Uk)(" 椰羊·成就扫描 | "),b=(0,r._)("a",{href:"https://github.com/YuehaiTeam/cocogoat-web",target:"_blank"},"Github",-1),k=(0,r.Uk)(" | "),S=(0,r._)("a",{href:"https://github.com/YuehaiTeam/cocogoat-web/tree/main/docs",target:"_blank"},"集成文档",-1),O=(0,r.Uk)(" | ");function C(t,e,n,i,o,a){const u=(0,r.up)("build-info");return(0,r.wg)(),(0,r.iD)("div",{class:(0,s.C_)(t.$style.opensource)},[D,b,k,S,O,(0,r.Wm)(u)],2)}var L=n(45161),W={components:{BuildInfo:L.Z}},Z={opensource:"opensource-ac4c5a"},T=n(48998);const Y={};Y["$style"]=Z;const x=(0,T.Z)(W,[["render",C],["__cssModules",Y]]);var U=x,H=n(40192),A=n(1607),I=n(14287);A.vI.add(I.tc$,I.B_A,I.OGB);var z=(0,r.aZ)({components:{Loader:M.Z,FooterComponent:U},setup(){const t=(0,y.iH)(!1);return{load:t,scannerCompatible:H.Go}}}),P={scannerEntrance:"scanner-entrance-dca5e5"};const E={};E["$style"]=P;const N=(0,T.Z)(z,[["render",_],["__cssModules",E]]);var F=N},77610:function(t,e,n){"use strict";n(13910),n(33950)}}]);